<html>
   <head>
      <link rel="stylesheet" href="/css/main.css">
      <style type="/css/main.css"></style>
   </head>
<style>
    .g-signin2 {
    display: flex;
    justify-content: center; 
    align-items: center; 
    }
</style>
   <script src="https://apis.google.com/js/platform.js" async defer></script>
   <script>
    function signOut() {
      var auth2 = gapi.auth2.getAuthInstance();
      document.getElementById('g-logout').innerHTML = ""
      auth2.signOut().then(function () {
        console.log('User signed out.');
      });
    }
    function onSignIn(googleUser) {
    var profile = googleUser.getBasicProfile();
    if(profile) document.getElementById('g-logout').innerHTML = `ç™»å…¥æ­¤å¸³è™Ÿå³å¯å–å¾—discordå¸³è™Ÿ.<br> ${profile.Me} <a href="/login/link/google"><img src="/img/link.png" title="é»æˆ‘é€£çµ" alt="é»æˆ‘é€£çµ" width="30px" height="30px" style="margin: 0px 0px -8px 0px"></a> <br>`
    }
   (async() => {
      let word = await getData()
      if(!word.Error) document.getElementById('d-logout').innerHTML = `å°‡è¢«é€£çµçš„discordå¸³è™Ÿ:<br> ${word.username}#${word.discriminator}<br>`
    })()
  </script>
   <meta name="google-signin-client_id" content="877162245319-vkdpkj2v6shsu8ue0rlvb5jrgicinhuo.apps.googleusercontent.com">
   <body>
        <br>
        <h4>å°‡å¤–éƒ¨ç™»å…¥é€£çµDiscord</h4>
        <button value="Discordç™»å…¥" style="width:120px; height:36px" onclick="location.href='/login/discord'"><img src="/img/discord.svg" width="20px" height="20px" > Discordç™»å…¥</button>
        <div id="d-logout"></div>
        <b>å‚™è¨»: è‹¥ç™»å…¥discordéœ€é‡æ–°é€£çµgoogle</b>
        <h4>ç¬¬ä¸‰æ–¹ç™»å…¥Discord</h4>
        <div class="g-signin2" data-onsuccess="onSignIn"></div>
        <div id="g-logout"></div>
        <br>
        ç™»å…¥å¾Œè«‹é»æ“Šåå­—å¾Œé¢çš„é€£çµæŒ‰éˆ•ğŸ”—<br>
        è‹¥ä½ æˆæ¬Šä¸€æ¬¡discordå°±å¿…é ˆå†é€£çµä¸€æ¬¡
        <br>
        <br>
        <a href="/login">å›åˆ°ç™»å…¥åˆ—è¡¨</a>    
        <br>
      <a href="/main">é»æˆ‘å›åˆ°é¦–é </a>
      <br>
   </body>
</html>
